<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì—°ë§ í• ì¸ ì£¼ë¬¸ì„œ</title>

<style>
  body {
    font-family: 'Noto Sans KR', sans-serif;
    margin: 0;
    padding: 20px;
    background: #F7F7F7;
    display: flex;
    justify-content: center;
  }

  /* ì¤‘ì•™ ë³¸ë¬¸ ë°•ìŠ¤ */
  .page-wrapper {
    max-width: 1200px;
    width: 100%;
    background: #fff;
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.06);
    box-sizing: border-box;
  }

  /* ë°°ë„ˆ (ë³¸ë¬¸ ì•ˆìœ¼ë¡œ ì´ë™) */
  .banner {
    width: 100%;
    max-height: 280px;
    overflow: hidden;
    border-radius: 8px;
    margin-bottom: 30px;
  }
  .banner img {
    width: 100%;
    object-fit: cover;
    display: block;
  }

  h1 {
    text-align: center;
    font-size: 2em;
    color: #2c3e50;
    margin-bottom: 10px;
  }

  h4 {
    text-align: center;
    color: #555;
    font-weight: 400;
    margin-top: 0;
    margin-bottom: 30px;
    line-height: 1.6;
  }

  .info-line {
    text-align: center;
    font-size: 0.95em;
    color: #666;
    line-height: 1.5;
  }

  h2 {
    margin-top: 40px;
    font-size: 1.2em;
    border-left: 3px solid #b0c4de;
    padding-left: 10px;
    color: #2c3e50;
  }

  .category-title {
    font-size: 1.05em;
    font-weight: 600;
    margin-top: 25px;
    padding-bottom: 5px;
    border-bottom: 1px solid #e2e2e2;
    color: #222;
  }

  label {
    display: block;
    margin: 16px 0 6px;
    font-weight: 500;
    font-size: 0.95em;
  }

  input[type="text"],
  input[type="email"],
  input[type="number"],
  select {
    width: 100%;
    padding: 10px 0;
    border: none;
    border-bottom: 1px solid #ccc;
    background: transparent;
    font-size: 1em;
  }

  input:focus,
  select:focus {
    outline: none;
    border-bottom: 1px solid #2c3e50;
  }

  /* ìƒí’ˆ ë ˆì´ì•„ì›ƒ */
  .flex-container {
    display: flex;
    gap: 25px;
    margin-top: 25px;
  }

  .product-side {
    width: 40%;
    border-right: 1px solid #eee;
    padding-right: 15px;
  }

  .preview-side {
    width: 60%;
    padding-left: 15px;
  }

  .product-row {
    display: grid;
    grid-template-columns: 1fr 110px 90px;
    gap: 8px;
    padding: 10px 0;
    font-size: 0.95em;
    border-bottom: 1px solid #f0f0f0;
    cursor: pointer;
  }

  .product-row:hover {
    background: #fafafa;
  }

  .product-name {
    font-weight: 500;
    color: #333;
  }

  .product-price {
    text-align: right;
    color: #555;
  }

  .product-qty input {
    width: 100%;
    padding: 6px;
    border: 1px solid #ccc;
    border-radius: 4px;
    text-align: center;
  }

  /* ì˜¤ë¥¸ìª½ ìƒì„¸ */
  .detail-title {
    font-size: 1.4em;
    font-weight: 600;
    margin-bottom: 15px;
    color: #2c3e50;
  }

  .detail-img {
    width: 100%;
    height: 240px;
    border-radius: 6px;
    object-fit: cover;
    background: #eee;
    margin-bottom: 15px;
  }

  .detail-desc {
    background: #fafafa;
    padding: 15px;
    min-height: 80px;
    border-radius: 6px;
    line-height: 1.6;
    font-size: 0.95em;
    color: #555;
    margin-bottom: 15px;
  }

  .detail-price {
    font-size: 1.05em;
    margin-bottom: 8px;
  }

  .detail-subtotal {
    font-size: 0.95em;
    margin-bottom: 12px;
    color: #444;
  }

  /* ì´ì•¡ ìƒì */
  .total-box {
    background: #fafafa;
    border: 1px solid #eee;
    padding: 12px 15px;
    font-size: 1.05em;
    font-weight: 600;
    color: #2c3e50;
    border-radius: 6px;
    margin-top: 15px;
  }

  /* ì œì¶œ ë²„íŠ¼ */
  button[type="submit"] {
    width: 100%;
    padding: 16px;
    margin-top: 35px;
    background: #2c3e50;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 1.05em;
    cursor: pointer;
  }

  button[type="submit"]:hover {
    background: #fff;
    color: #2c3e50;
    border: 1px solid #2c3e50;
  }

  .hidden {
    display: none;
  }

  /* ëª¨ë°”ì¼ */
  @media (max-width: 768px) {
    .page-wrapper {
      padding: 18px;
    }

    .flex-container {
      flex-direction: column;
    }

    .product-side,
    .preview-side {
      width: 100%;
      padding: 0;
      border: none;
    }

    .product-row {
      grid-template-columns: 1.4fr 0.8fr 0.6fr;
    }

    .detail-img {
      height: auto;
    }
  }
</style>
</head>

<body>
<div class="page-wrapper">

  <!-- ğŸŒŸ ë°°ë„ˆ(ë°©ë²• 1: ë³¸ë¬¸ ë‚´ë¶€ë¡œ ì´ë™) -->
  <div class="banner">
    <img src="https://via.placeholder.com/1200x300?text=Holiday+Sale+Banner" alt="Holiday Banner">
  </div>

  <!-- ë©”ì¸ íƒ€ì´í‹€ -->
  <h1>ì—°ë§ í• ì¸ ì£¼ë¬¸ì„œ</h1>
  <h4>ê°ì‚¬ì˜ ë§ˆìŒì„ ë‹´ì•„ íŠ¹ë³„ í• ì¸ í˜œíƒì„ ë“œë¦½ë‹ˆë‹¤!</h4>

  <div class="info-line">
    íŒë§¤ ê¸°ê°„: 11ì›” 10ì¼ ~ 12ì›” 31ì¼<br>
    êµ¬ë§¤ ë°©ë²•: <b>í•˜ë‚˜ì€í–‰ 183-910001-24105</b><br>
    ë°°ì†¡: ê²°ì œ í™•ì¸ í›„ ìµì¼ ì¶œê³  (ì£¼ë§ ì œì™¸)<br>
    ë¬¸ì˜: 02-0000-0000
  </div>

  <!-- FORM START -->
  <form action="https://formspree.io/f/xyzanddw" method="POST" onsubmit="return validateForm();">

    <!-- 1. ì£¼ë¬¸ì ì •ë³´ -->
    <h2>1. ì£¼ë¬¸ì ì •ë³´</h2>

    <label>ì£¼ë¬¸ì ì´ë¦„</label>
    <input type="text" name="ì£¼ë¬¸ì ì´ë¦„" placeholder="ì˜ˆì‹œ: í™ê¸¸ë™" required>

    <label>ì†Œì† íšŒì‚¬</label>
    <input type="text" name="ì†Œì† íšŒì‚¬" placeholder="ì˜ˆì‹œ: íŒŒë¥´ë‚˜ìŠ¤í˜¸í…”" required>

    <!-- 2. êµ¬ë§¤ ìƒí’ˆ -->
    <h2>2. êµ¬ë§¤ ìƒí’ˆ ë° ìˆ˜ëŸ‰</h2>

    <div class="flex-container">
      <!-- LEFT: ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ -->
      <div class="product-side" id="productList"></div>

      <!-- RIGHT: ìƒì„¸ -->
      <div class="preview-side">
        <div class="detail-title" id="detailTitle">ìƒí’ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”</div>

        <img id="detailImg" class="detail-img"
             src="https://via.placeholder.com/600x260?text=ìƒí’ˆì´ë¯¸ì§€" alt="ìƒí’ˆ ì´ë¯¸ì§€">

        <div class="detail-desc" id="detailDesc">
          ì¢Œì¸¡ì—ì„œ ìƒí’ˆì„ í´ë¦­í•˜ì‹œë©´ ì´ë¯¸ì§€ì™€ ê°„ë‹¨í•œ ì„¤ëª…ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
        </div>

        <div class="detail-price">
          ë‹¨ê°€: <span id="detailPrice">0</span>ì›
        </div>

        <div class="detail-subtotal">
          í˜„ì¬ ìƒí’ˆ ê¸ˆì•¡: <span id="detailSubtotal">0</span>ì›
        </div>

        <label>ìˆ˜ëŸ‰ ì¡°ì •</label>
        <input type="number" id="detailQty" min="0" value="0">
      </div>
    </div>

    <!-- ì´ì•¡ í‘œì‹œ -->
    <div class="total-box">
      ì£¼ë¬¸ ì´ì•¡: <span id="grandTotal">0</span>ì›
    </div>

    <!-- 3. ë°°ì†¡ ì •ë³´ -->
    <h2>3. ë°°ì†¡ ì •ë³´</h2>

    <label>ìˆ˜ì·¨ì¸ ì´ë¦„</label>
    <input type="text" name="ìˆ˜ì·¨ì¸ ì´ë¦„" placeholder="ì˜ˆì‹œ: í™ê¸¸ë™" required>

    <label>ìˆ˜ì·¨ì¸ ì „í™”ë²ˆí˜¸</label>
    <input type="text" name="ìˆ˜ì·¨ì¸ ì „í™”ë²ˆí˜¸" class="phone-input"
           inputmode="numeric" pattern="\d*"
           placeholder="ì˜ˆì‹œ: 01012345678 (ìˆ«ìë§Œ ì…ë ¥)" required>

    <label>ìˆ˜ì·¨ì¸ ì£¼ì†Œ</label>
    <input type="text" name="ìˆ˜ì·¨ì¸ ì£¼ì†Œ" placeholder="ì˜ˆì‹œ: ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ â—‹â—‹ë¡œ 00" required>

    <!-- 4. ê²°ì œ ë°©ì‹ -->
    <h2>4. ê²°ì œ ë°©ì‹</h2>

    <label>ê²°ì œ ë°©ì‹ ì„ íƒ</label>
    <select name="ê²°ì œ ë°©ì‹" id="paySelect" required>
      <option value="">ì„ íƒ</option>
      <option value="ê³„ì¢Œì´ì²´">ê³„ì¢Œì´ì²´</option>
      <option value="ì¹´ë“œê²°ì œ">ì¹´ë“œê²°ì œ</option>
    </select>

    <div id="bankArea" class="hidden">
      <label>ì…ê¸ˆìëª…</label>
      <input type="text" name="ì…ê¸ˆìëª…" placeholder="ì˜ˆì‹œ: í™ê¸¸ë™">

      <label>ì…ê¸ˆ ê¸ˆì•¡</label>
      <input type="number" name="ì…ê¸ˆ ê¸ˆì•¡" id="depositAmount" min="0"
             placeholder="ì´ ì£¼ë¬¸ê¸ˆì•¡ê³¼ ë™ì¼í•œ ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
    </div>

    <div id="cardArea" class="hidden">
      <label>ê²°ì œ ë§í¬ ë°›ì„ ì—°ë½ì²˜</label>
      <input type="text" name="ì¹´ë“œê²°ì œ ì—°ë½ì²˜" class="phone-input"
             inputmode="numeric" pattern="\d*"
             placeholder="ì˜ˆì‹œ: 01012345678 (ìˆ«ìë§Œ ì…ë ¥)">
    </div>

    <!-- 5. ì¦ë¹™ -->
    <h2>5. í˜„ê¸ˆì˜ìˆ˜ì¦ / ì„¸ê¸ˆê³„ì‚°ì„œ</h2>

    <label>ë°œí–‰ ì—¬ë¶€</label>
    <select name="ì¦ë¹™ ì„ íƒ" id="taxSelect">
      <option value="">ì„ íƒ ì•ˆ í•¨</option>
      <option value="í˜„ê¸ˆì˜ìˆ˜ì¦">í˜„ê¸ˆì˜ìˆ˜ì¦(ê°œì¸)</option>
      <option value="ì„¸ê¸ˆê³„ì‚°ì„œ">ì„¸ê¸ˆê³„ì‚°ì„œ(ê¸°ì—…)</option>
    </select>

    <div id="taxArea" class="hidden">
      <div id="cashArea" class="hidden">
        <label>í˜„ê¸ˆì˜ìˆ˜ì¦ ë°œí–‰ìš© íœ´ëŒ€í° ë²ˆí˜¸</label>
        <input type="text" id="cashPhone" name="í˜„ê¸ˆì˜ìˆ˜ì¦ ì „í™”ë²ˆí˜¸"
               class="phone-input" inputmode="numeric" pattern="\d*"
               placeholder="ì˜ˆì‹œ: 01012345678 (ìˆ«ìë§Œ ì…ë ¥)">
      </div>

      <div id="invoiceArea" class="hidden">
        <label>ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ (10ìë¦¬ ìˆ«ì)</label>
        <input type="text" id="businessNo" name="ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸"
               class="biz-input" inputmode="numeric" pattern="\d*"
               maxlength="10" placeholder="ì˜ˆì‹œ: 1234567890 (10ìë¦¬)">
      </div>
    </div>

    <!-- Formspreeë¡œ ë„˜ê¸¸ ìˆ¨ì€ í•„ë“œ -->
    <input type="hidden" name="ì£¼ë¬¸ ë‚´ì—­" id="orderSummaryInput">
    <input type="hidden" name="ì´ì•¡(ì›)" id="totalAmountInput">

    <button type="submit">ì£¼ë¬¸ì„œ ì œì¶œí•˜ê¸°</button>
  </form>
</div>

<script>
/* --------------------------
   ìƒí’ˆ ë°ì´í„°
--------------------------- */
const products = [
  { category:"Scent Line", name:"Mossy Wood ë””í“¨ì €", price:66500,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Mossy%20Wood%20Diffuser.jpg",
    desc:"ì§™ì€ ì´ë¼ì™€ ìš°ë””í•œ í–¥ì´ ê³µê°„ ì „ì²´ë¥¼ ê³ ê¸‰ìŠ¤ëŸ½ê²Œ ê°ì‹¸ì£¼ëŠ” ì‹œê·¸ë‹ˆì²˜ ë””í“¨ì €ì…ë‹ˆë‹¤." },
  { category:"Scent Line", name:"Mossy Wood ìº”ë“¤", price:65100,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Mossy%20Wood%20Candle.jpg",
    desc:"ë¶ˆì„ ë°íˆëŠ” ìˆœê°„ ì€ì€í•œ ëª¨ìŠ¤ ê³„ì—´ì˜ í–¥ì´ í¼ì§€ëŠ” ìº”ë“¤ì…ë‹ˆë‹¤." },
  { category:"Scent Line", name:"Mossy Wood ë£¸ìŠ¤í”„ë ˆì´", price:61600,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Mossy%20Wood%20Roomspray.jpg",
    desc:"ê°„í¸í•˜ê²Œ ë¶„ì‚¬ë§Œìœ¼ë¡œ í˜¸í…” ë£¸ì²˜ëŸ¼ ì •ëˆëœ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” ìŠ¤í”„ë ˆì´ì…ë‹ˆë‹¤." },

  { category:"Scent Line", name:"Mint Forest ë””í“¨ì €", price:66500,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Mint%20Forest%20Diffuser.jpg",
    desc:"ë§‘ì€ ë¯¼íŠ¸ì™€ ìˆ² í–¥ì„ ë‹´ì€ ìƒì¾Œí•œ ë””í“¨ì €ì…ë‹ˆë‹¤." },
  { category:"Scent Line", name:"Mint Forest ìº”ë“¤", price:65100,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Mint%20Forest%20Candle.jpg",
    desc:"ì´ˆë¡ë¹› ìˆ² í–¥ê³¼ ì€ì€í•œ ë¶ˆë¹›ì´ ì–´ìš°ëŸ¬ì§„ ìº”ë“¤ì…ë‹ˆë‹¤." },
  { category:"Scent Line", name:"Mint Forest ë£¸ìŠ¤í”„ë ˆì´", price:61600,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Mint%20Forest%20Roomspray.jpg",
    desc:"ì‹¤ë‚´ ê³µê¸°ë¥¼ ë¹ ë¥´ê²Œ í™˜ê¸°ì‹œí‚¤ëŠ” ì‹œì›í•œ ë¯¼íŠ¸ ìŠ¤í”„ë ˆì´ì…ë‹ˆë‹¤." },

  { category:"Scent Line", name:"White Bloom ë””í“¨ì €", price:66500,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/White%20Bloom%20Diffuser.jpg",
    desc:"í™”ì´íŠ¸ í”Œë¡œëŸ´ ê³„ì—´ì˜ ì”ì”í•œ í–¥ì´ ì˜¤ë˜ ë¨¸ë¬´ëŠ” ë””í“¨ì €ì…ë‹ˆë‹¤." },
  { category:"Scent Line", name:"White Bloom ìº”ë“¤", price:65100,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/White%20Bloom%20Candle.jpg",
    desc:"ì€ì€í•œ ê½ƒ í–¥ê³¼ ë”°ëœ»í•œ ì¡°ëª…ì´ ì–´ìš°ëŸ¬ì§€ëŠ” ìº”ë“¤ì…ë‹ˆë‹¤." },
  { category:"Scent Line", name:"White Bloom ë£¸ìŠ¤í”„ë ˆì´", price:61600,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/White%20Bloom%20Roomspray.jpg",
    desc:"ê³µê°„ì„ ë¶€ë“œëŸ½ê²Œ ì •ë¦¬í•´ ì£¼ëŠ” í™”ì´íŠ¸ í”Œë¡œëŸ´ ë£¸ìŠ¤í”„ë ˆì´ì…ë‹ˆë‹¤." },

  { category:"Bedding Line", name:"êµ¬ìŠ¤ë‹¤ìš´ í‚¹ ì´ë¶ˆì„¸íŠ¸", price:1050000,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/GooseDown%20King%20Duvet.jpg",
    desc:"ë„‰ë„‰í•œ ë³¼ë¥¨ê°ê³¼ í¬ê·¼í•œ ì˜¨ê¸°ë¥¼ ì œê³µí•˜ëŠ” í‚¹ ì‚¬ì´ì¦ˆ êµ¬ìŠ¤ë‹¤ìš´ ì´ë¶ˆ ì„¸íŠ¸ì…ë‹ˆë‹¤." },
  { category:"Bedding Line", name:"êµ¬ìŠ¤ë‹¤ìš´ í€¸ ì´ë¶ˆì„¸íŠ¸", price:1008000,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/GooseDown%20Queen%20Duvet.jpg",
    desc:"ì¼ìƒ ì† ê¹Šì€ ìˆ˜ë©´ì„ ë•ëŠ” í€¸ ì‚¬ì´ì¦ˆ êµ¬ìŠ¤ë‹¤ìš´ ì´ë¶ˆ ì„¸íŠ¸ì…ë‹ˆë‹¤." },
  { category:"Bedding Line", name:"êµ¬ìŠ¤ë‹¤ìš´ ì‹±ê¸€ ì´ë¶ˆì„¸íŠ¸", price:840000,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/GooseDown%20Single%20Duvet.jpg",
    desc:"ê°œì¸ ì‚¬ìš©ì— ìµœì í™”ëœ ì‹±ê¸€ ì‚¬ì´ì¦ˆ êµ¬ìŠ¤ë‹¤ìš´ ì´ë¶ˆ ì„¸íŠ¸ì…ë‹ˆë‹¤." },

  { category:"Bedding Line", name:"ë² ë“œì‹œíŠ¸ í‚¹", price:189000,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Bed%20Sheet%20King.jpg",
    desc:"ë¶€ë“œëŸ¬ìš´ ì´‰ê°ê³¼ ê¹”ë”í•œ ë§ˆê°ì˜ í‚¹ ì‚¬ì´ì¦ˆ ë² ë“œì‹œíŠ¸ì…ë‹ˆë‹¤." },
  { category:"Bedding Line", name:"ë² ë“œì‹œíŠ¸ í€¸", price:175000,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Bed%20Sheet%20Queen.jpg",
    desc:"ì¹¨ì‹¤ ë¶„ìœ„ê¸°ë¥¼ ì •ëˆí•´ ì£¼ëŠ” í€¸ ì‚¬ì´ì¦ˆ ë² ë“œì‹œíŠ¸ì…ë‹ˆë‹¤." },
  { category:"Bedding Line", name:"ë² ë“œì‹œíŠ¸ ì‹±ê¸€", price:147000,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Bed%20Sheet%20Single.jpg",
    desc:"ëª¨ë˜í•œ ë¼ì¸ì˜ ì‹±ê¸€ ì‚¬ì´ì¦ˆ ë² ë“œì‹œíŠ¸ì…ë‹ˆë‹¤." },

  { category:"Bedding Line", name:"êµ¬ìŠ¤ë‹¤ìš´ í”„ë¦¬ë¯¸ì—„ ë² ê°œì„¸íŠ¸", price:368000,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/GooseDown%20Premium%20Pillow.jpg",
    desc:"ëª©ê³¼ ì–´ê¹¨ ë¼ì¸ì„ ì„¬ì„¸í•˜ê²Œ ë°›ì³ì£¼ëŠ” í”„ë¦¬ë¯¸ì—„ ë² ê°œ ì„¸íŠ¸ì…ë‹ˆë‹¤." },
  { category:"Bedding Line", name:"êµ¬ìŠ¤ë‹¤ìš´ í‚¹ ë² ê°œì„¸íŠ¸", price:316000,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/GooseDown%20King%20Pillow.jpg",
    desc:"ë„‰ë„‰í•œ ì‚¬ì´ì¦ˆì™€ í¬ê·¼í•¨ì„ ê°–ì¶˜ í‚¹ ì‚¬ì´ì¦ˆ ë² ê°œ ì„¸íŠ¸ì…ë‹ˆë‹¤." },

  { category:"Towel Line", name:"ë°°ìŠ¤ë¡œë¸Œ", price:129500,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Bath%20Robe.jpg",
    desc:"ìƒ¤ì›Œ í›„ ê°€ë³ê²Œ ê±¸ì¹˜ê¸° ì¢‹ì€ í˜¸í…” ìŠ¤íƒ€ì¼ ë°°ìŠ¤ë¡œë¸Œì…ë‹ˆë‹¤." },
  { category:"Towel Line", name:"ë°°ìŠ¤ íƒ€ì›” ì„¸íŠ¸", price:80500,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Bath%20Towel.jpg",
    desc:"í’ì„±í•œ ë‘ê»˜ì™€ í¡ìˆ˜ë ¥ì„ ê°€ì§„ ë°°ìŠ¤ íƒ€ì›” 2ê°œ ì„¸íŠ¸ì…ë‹ˆë‹¤." },
  { category:"Towel Line", name:"í˜ì´ìŠ¤ íƒ€ì›” ì„¸íŠ¸", price:63200,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Face%20Towel.jpg",
    desc:"ë§¤ì¼ ì‚¬ìš©í•˜ê¸° ì¢‹ì€ ë¶€ë“œëŸ¬ìš´ í˜ì´ìŠ¤ íƒ€ì›” ì„¸íŠ¸ì…ë‹ˆë‹¤." },

  { category:"Gourmet Line", name:"ë²„í„° ì¹˜í‚¨ ì»¤ë¦¬", price:27300,
    img:"https://raw.githubusercontent.com/bini233/order-form-site/main/assets/Butter%20Curry%20Chicken.jpg",
    desc:"ë¦¬ì¹˜í•œ ë²„í„°ì™€ í–¥ì‹ ë£Œë¥¼ ì¡°í•©í•œ ì¸ë„ì‹ ë²„í„° ì¹˜í‚¨ ì»¤ë¦¬ì…ë‹ˆë‹¤." }
];

let selectedIndex = 0;
let total = 0;

/* -------------------------
   ìƒí’ˆ ëª©ë¡ ìƒì„±
------------------------- */
const productList = document.getElementById("productList");

let lastCategory = "";
products.forEach((p, index) => {
  if (p.category !== lastCategory) {
    const cat = document.createElement("div");
    cat.className = "category-title";
    cat.textContent = p.category;
    productList.appendChild(cat);
    lastCategory = p.category;
  }

  const div = document.createElement("div");
  div.className = "product-row";
  div.setAttribute("data-index", index);
  div.innerHTML = `
    <div class="product-name">${p.name}</div>
    <div class="product-price">${p.price.toLocaleString()}ì›</div>
    <div class="product-qty"><input type="number" min="0" value="0" class="qty-input" data-index="${index}"></div>
  `;
  productList.appendChild(div);
});

/* -------------------------
   ìƒí’ˆ í´ë¦­ â†’ ìƒì„¸ í‘œì‹œ
------------------------- */
function selectProduct(i) {
  selectedIndex = i;
  const p = products[i];

  document.getElementById("detailTitle").innerText = p.name;
  document.getElementById("detailImg").src = p.img;
  document.getElementById("detailPrice").innerText = p.price.toLocaleString();
  document.getElementById("detailDesc").innerText = p.desc;

  let q = document.querySelector(`.qty-input[data-index="${i}"]`).value || 0;
  document.getElementById("detailQty").value = q;
  document.getElementById("detailSubtotal").innerText =
    (p.price * q).toLocaleString();
}

document.querySelectorAll(".product-row").forEach(row => {
  row.addEventListener("click", () => {
    selectProduct(parseInt(row.getAttribute("data-index")));
  });
});

/* -------------------------
   ì´ì•¡ ê³„ì‚°
------------------------- */
function calcTotal() {
  total = 0;
  products.forEach((p, i) => {
    let q = parseInt(document.querySelector(`.qty-input[data-index="${i}"]`).value) || 0;
    total += p.price * q;
  });

  document.getElementById("grandTotal").innerText = total.toLocaleString();

  const curQty = parseInt(document.getElementById("detailQty").value) || 0;
  const curPrice = products[selectedIndex].price;
  document.getElementById("detailSubtotal").innerText =
    (curQty * curPrice).toLocaleString();
}

document.addEventListener("input", e => {
  if (e.target.classList.contains("qty-input")) {
    let i = parseInt(e.target.getAttribute("data-index"));
    if (i === selectedIndex) {
      document.getElementById("detailQty").value = e.target.value;
    }
    calcTotal();
  }

  if (e.target.id === "detailQty") {
    document.querySelector(`.qty-input[data-index="${selectedIndex}"]`).value = e.target.value;
    calcTotal();
  }
});

/* -------------------------
   ì „í™”ë²ˆí˜¸ = ìˆ«ìë§Œ
------------------------- */
document.querySelectorAll(".phone-input").forEach(input => {
  input.addEventListener("input", () => {
    input.value = input.value.replace(/\D/g, "");
  });
});

/* -------------------------
   ê²°ì œ ë°©ì‹ ì¡°ê±´ë¶€ ì…ë ¥ë€
------------------------- */
document.getElementById("paySelect").addEventListener("change", e => {
  const v = e.target.value;
  document.getElementById("bankArea").classList.toggle("hidden", v !== "ê³„ì¢Œì´ì²´");
  document.getElementById("cardArea").classList.toggle("hidden", v !== "ì¹´ë“œê²°ì œ");
});

/* -------------------------
   ì¦ë¹™ ì¡°ê±´ë¶€ ì…ë ¥ë€
------------------------- */
document.getElementById("taxSelect").addEventListener("change", e => {
  document.getElementById("taxArea").classList.toggle("hidden", e.target.value === "");
});

/* -------------------------
   ì œì¶œ ê²€ì¦ + Formspreeìš© ìš”ì•½ ìƒì„±
------------------------- */
function validateForm() {
  calcTotal();

  if (total <= 0) {
    alert("ìµœì†Œ í•œ ê°œ ì´ìƒì˜ ìƒí’ˆì„ ì„ íƒí•´ ì£¼ì„¸ìš”.");
    return false;
  }

  const payMethod = document.getElementById("paySelect").value;

  if (payMethod === "ê³„ì¢Œì´ì²´") {
    const depositor = document.querySelector('input[name="ì…ê¸ˆìëª…"]').value.trim();
    const depositAmount = parseInt(document.getElementById("depositAmount").value);

    if (!depositor) {
      alert("ì…ê¸ˆìëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return false;
    }

    if (!depositAmount || depositAmount !== total) {
      alert("ì…ê¸ˆ ê¸ˆì•¡ì´ ì´ ì£¼ë¬¸ê¸ˆì•¡ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.");
      return false;
    }
  }

  if (payMethod === "ì¹´ë“œê²°ì œ") {
    const phone = document.querySelector('input[name="ì¹´ë“œê²°ì œ ì—°ë½ì²˜"]').value.trim();
    if (!phone) {
      alert("ê²°ì œ ë§í¬ë¥¼ ë°›ì„ ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return false;
    }
  }

  /* ì£¼ë¬¸ ìš”ì•½ ìƒì„± */
  let lines = [];
  products.forEach((p, i) => {
    let q = parseInt(document.querySelector(`.qty-input[data-index="${i}"]`).value) || 0;
    if (q > 0) {
      lines.push(`- ${p.name} x ${q}ê°œ = ${(p.price * q).toLocaleString()}ì›`);
    }
  });

  const buyerName = document.querySelector('input[name="ì£¼ë¬¸ì ì´ë¦„"]').value.trim();
  const company    = document.querySelector('input[name="ì†Œì† íšŒì‚¬"]').value.trim();

  const summaryText =
    `ì£¼ë¬¸ì: ${buyerName}\nì†Œì†: ${company}\nì´ ì£¼ë¬¸ê¸ˆì•¡: ${total.toLocaleString()}ì›\n\nì£¼ë¬¸ ë‚´ì—­:\n${lines.join("\n")}`;

  document.getElementById("orderSummaryInput").value = summaryText;
  document.getElementById("totalAmountInput").value  = total;

  return confirm(summaryText + "\n\nìœ„ ë‚´ìš©ì´ ë§ìŠµë‹ˆê¹Œ?");
}

/* ì´ˆê¸°ê°’ */
selectProduct(0);
calcTotal();
</script>


</body>
</html>
